<app-header 
  [title]="'Mi Perfil'" 
  [showBackButton]="true" 
  (backClicked)="onBackClick()">
</app-header>

<ion-content>
  <!-- Perfil del Usuario -->
  <ion-card class="profile-card">
    <ion-card-content>
      <div class="profile-header">
        <div class="avatar-container">
          <ion-icon name="person-circle"></ion-icon>
        </div>
        <div class="profile-info">
          <h2>{{ user?.name || 'Usuario' }}</h2>
          <p class="email">{{ user?.email }}</p>
          <ion-badge color="primary" class="role-badge">Vendedor</ion-badge>
        </div>
      </div>
    </ion-card-content>
  </ion-card>

  <!-- Estadísticas del Vendedor -->
  <ion-card class="stats-card">
    <ion-card-header>
      <ion-card-title>Mis Estadísticas</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <div class="stats-grid">
        <div class="stat-item">
          <ion-icon name="cube-outline"></ion-icon>
          <div class="stat-info">
            <p class="stat-label">Total Pedidos</p>
            <p class="stat-value">{{ stats.totalOrders }}</p>
          </div>
        </div>

        <div class="stat-item">
          <ion-icon name="time-outline"></ion-icon>
          <div class="stat-info">
            <p class="stat-label">Pendientes</p>
            <p class="stat-value">{{ stats.pendingOrders }}</p>
          </div>
        </div>

        <div class="stat-item">
          <ion-icon name="checkmark-circle-outline"></ion-icon>
          <div class="stat-info">
            <p class="stat-label">Completados</p>
            <p class="stat-value">{{ stats.completedOrders }}</p>
          </div>
        </div>

        <div class="stat-item">
          <ion-icon name="cash-outline"></ion-icon>
          <div class="stat-info">
            <p class="stat-label">Ingresos</p>
            <p class="stat-value">${{ stats.totalRevenue | number: '1.0-0' }}</p>
          </div>
        </div>
      </div>
    </ion-card-content>
  </ion-card>

  <!-- Información del Vendedor -->
  <ion-card class="info-card">
    <ion-card-header>
      <ion-card-title>Información Personal</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-list>
        <ion-item>
          <ion-icon slot="start" name="person-outline"></ion-icon>
          <ion-label>
            <h3>Nombre Completo</h3>
            <p>{{ user?.name || 'No disponible' }}</p>
          </ion-label>
        </ion-item>
        <ion-item>
          <ion-icon slot="start" name="mail-outline"></ion-icon>
          <ion-label>
            <h3>Correo Electrónico</h3>
            <p>{{ user?.email || 'No disponible' }}</p>
          </ion-label>
        </ion-item>
        <ion-item>
          <ion-icon slot="start" name="briefcase-outline"></ion-icon>
          <ion-label>
            <h3>Rol</h3>
            <p>Vendedor</p>
          </ion-label>
        </ion-item>
        <ion-item>
          <ion-icon slot="start" name="calendar-outline"></ion-icon>
          <ion-label>
            <h3>Miembro Desde</h3>
            <p>{{ user?.createdAt || 'No disponible' }}</p>
          </ion-label>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>

  <!-- Acciones Rápidas -->
  <ion-card class="actions-card">
    <ion-card-header>
      <ion-card-title>Acciones Rápidas</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-list>
        <ion-item button (click)="goToProducts()">
          <ion-icon slot="start" name="storefront"></ion-icon>
          <ion-label>Mis Productos</ion-label>
          <ion-icon slot="end" name="chevron-forward"></ion-icon>
        </ion-item>
        <ion-item button (click)="goToNotifications()">
          <ion-icon slot="start" name="notifications"></ion-icon>
          <ion-label>Notificaciones y Pedidos</ion-label>
          <ion-icon slot="end" name="chevron-forward"></ion-icon>
        </ion-item>
        <ion-item button (click)="logout()" lines="none">
          <ion-icon slot="start" name="log-out" color="danger"></ion-icon>
          <ion-label color="danger">Cerrar Sesión</ion-label>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>

</ion-content>

<app-footer></app-footer>
